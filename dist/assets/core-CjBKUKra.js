const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-BWsC0hWi.js","assets/utils-P83EfEoD.js","assets/vendor-ItrcfzAD.js","assets/utils-Tsah_Q0z.css","assets/main-F_5wUmGq.js","assets/main-DmL8H2By.js","assets/main-Bvv29Ge2.css","assets/main-CZdoxjV5.js","assets/main-BkCKRA_Q.js","assets/main-9_eRAUFY.js","assets/main-BrhDUMWV.js","assets/main-BVPLZ2vd.js","assets/main-nz8dYveN.js"])))=>i.map(i=>d[i]);
class y{constructor(){this.currentTool=null,this.codeMirror=null,this.loadedCssFiles=new Set,this.subscribers=new Set,this.error=null,this.isLoading=!1}setState(t){const e={...this};Object.assign(this,t),this.notifySubscribers(e)}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}notifySubscribers(t){this.subscribers.forEach(e=>e(this,t))}getState(){return{currentTool:this.currentTool,codeMirror:this.codeMirror,loadedCssFiles:[...this.loadedCssFiles],error:this.error,isLoading:this.isLoading}}}const o={DEFAULT_TOOL:"home",ANALYTICS_DELAY:1e3,IS_DEVELOPMENT:["localhost","127.0.0.1"].includes(location.hostname),BASE_CSS_PATH:"/src/styles/tools",TOOLS_BASE_PATH:"/tools"},h={home:{init:"initHome",title:"Home",description:"Dashboard and Quick Access",order:0},uuid:{init:"initUuidGenerator",title:"UUIDv4",description:"Generate UUID v4 strings",order:1},queryin:{init:"initQueryInGenerator",title:"Query IN",description:"Generate SQL IN clauses",order:2},image:{init:"initImageConverter",title:"Image-Base64",description:"Convert images to base64",order:3},splunk:{init:"initSplunkTemplate",title:"Splunk Template",description:"Edit Splunk queries",order:4},html:{init:"initHtmlTemplate",title:"HTML Template",description:"Edit HTML templates",order:5},screenshot:{init:"initScreenshotTemplate",title:"Deploy Docs",description:"Create deployment documentation",order:6},querify:{init:"initQuerify",title:"Querify",description:"SQL query from Excel Files",order:7},quickQuery:{init:"initQuickQuery",title:"Quick Query",description:"Quick SQL query generator",order:8}};class L{constructor(t){this.app=t}async initializeRouting(){const t=this.getInitialTool();await this.navigateToTool(t),window.addEventListener("popstate",async()=>{const e=this.getToolFromUrl();await this.app.loadTool(e||o.DEFAULT_TOOL)})}getInitialTool(){const t=this.getToolFromUrl();return t&&h[t]?t:o.DEFAULT_TOOL}getToolFromUrl(){if(o.IS_DEVELOPMENT){const e=window.location.hash;return e?e.slice(1):null}const t=window.location.pathname;return t.startsWith(o.TOOLS_BASE_PATH+"/")?t.split("/").pop():null}async navigateToTool(t){h[t]||(t=o.DEFAULT_TOOL);const e=o.IS_DEVELOPMENT?`#${t}`:`${o.TOOLS_BASE_PATH}/${t}`;history.pushState({tool:t},"",e),await this.app.loadTool(t)}}class O{constructor(t){this.app=t}setupNavigation(){const t=document.getElementById("main-nav");if(!t)throw new Error("Navigation container not found");Object.entries(h).sort(([,s],[,c])=>s.order-c.order).forEach(([s,c])=>{const i=this.createNavigationButton(s,c);t.appendChild(i)})}createNavigationButton(t,e){const s=document.createElement("button");return s.textContent=e.title,s.id=`nav-${t}`,s.title=e.description,s.className="nav-button",s.addEventListener("click",()=>this.app.router.navigateToTool(t)),s}updateActiveButton(t){document.querySelectorAll("#main-nav .nav-button").forEach(s=>s.classList.remove("active"));const e=document.getElementById(`nav-${t}`);e&&e.classList.add("active")}showLoadingState(){const t=document.getElementById("content");t.innerHTML="",this.loadingTimeout=setTimeout(()=>{t.innerHTML===""&&(t.innerHTML=`
          <div class="loading-spinner-container">
            <div class="loading-spinner"></div>
          </div>
        `)},0)}showError(t){const e=document.getElementById("content");e.innerHTML=`
      <div class="error-message">
        <h3>Error</h3>
        <p>${t}</p>
        <button onclick="window.location.reload()">Reload Page</button>
      </div>
    `}clearContent(){this.loadingTimeout&&clearTimeout(this.loadingTimeout);const t=document.getElementById("content");return t.innerHTML="",t}}const E="modulepreload",S=function(a){return"/"+a},p={},n=function(t,e,s){let c=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));c=Promise.allSettled(e.map(u=>{if(u=S(u),u in p)return;p[u]=!0;const m=u.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":E,m||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),m)return new Promise((T,_)=>{d.addEventListener("load",T),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return c.then(r=>{for(const l of r||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},v=(a,t,e)=>{const s=a[t];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((c,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})};class A{constructor(t){this.state=t}async loadToolCSS(t){if(this.state.loadedCssFiles.has(t))return;const e=`${o.BASE_CSS_PATH}/${t}.css`;return new Promise((s,c)=>{const i=document.createElement("link");i.rel="stylesheet",i.href=e,i.onload=()=>{this.state.loadedCssFiles.add(t),s()},i.onerror=()=>c(new Error(`Failed to load CSS for ${t}`)),document.head.appendChild(i)})}async loadToolModule(t){try{const e=await v(Object.assign({"../features/home/main.js":()=>n(()=>import("./main-BuAsCqYz.js"),[]),"../features/html/main.js":()=>n(()=>import("./main-BWsC0hWi.js"),__vite__mapDeps([0,1,2,3])),"../features/image/main.js":()=>n(()=>import("./main-F_5wUmGq.js"),__vite__mapDeps([4,1,2,3])),"../features/json/main.js":()=>n(()=>import("./main-DmL8H2By.js").then(s=>s.m),__vite__mapDeps([5,1,2,3,6])),"../features/querify/main.js":()=>n(()=>import("./main-CZdoxjV5.js"),__vite__mapDeps([7,1,2,3])),"../features/queryin/main.js":()=>n(()=>import("./main-BkCKRA_Q.js"),__vite__mapDeps([8,1,2,3])),"../features/quickQuery/main.js":()=>n(()=>import("./main-9_eRAUFY.js"),__vite__mapDeps([9,1,2,3])),"../features/screenshot/main.js":()=>n(()=>import("./main-BrhDUMWV.js"),__vite__mapDeps([10,1,2,3])),"../features/splunk/main.js":()=>n(()=>import("./main-BVPLZ2vd.js"),__vite__mapDeps([11,1,2,3])),"../features/uuid/main.js":()=>n(()=>import("./main-nz8dYveN.js"),__vite__mapDeps([12,1,2,3]))}),`../features/${t}/main.js`,4);if(typeof e[h[t].init]!="function")throw new Error("Invalid module: missing initialization function");return e[h[t].init]}catch(e){throw new Error(`Failed to load module for ${t}: ${e.message}`)}}}const g="adtools_analytics";class I{constructor(){this.pendingTracking=null,this.cache=this.loadFromStorage()}loadFromStorage(){try{const t=localStorage.getItem(g);return t?JSON.parse(t):{features:{},firstVisit:new Date().toISOString(),totalVisits:1,lastVisit:new Date().toISOString()}}catch(t){return console.error("Error loading analytics from storage:",t),{features:{},firstVisit:new Date().toISOString(),totalVisits:1,lastVisit:new Date().toISOString()}}}saveToStorage(){try{localStorage.setItem(g,JSON.stringify(this.cache))}catch(t){console.error("Error saving analytics to storage:",t)}}scheduleTracking(t){this.pendingTracking&&clearTimeout(this.pendingTracking),this.pendingTracking=setTimeout(()=>{this.trackFeatureUsage(t),this.pendingTracking=null},o.ANALYTICS_DELAY)}trackFeatureUsage(t){if(t!=="home")try{const e=new Date().toISOString();this.cache.features[t]||(this.cache.features[t]={totalUses:0,firstUse:e,lastUse:null,usageHistory:[]});const s=this.cache.features[t];s.totalUses++,s.lastUse=e,s.usageHistory.unshift(e),s.usageHistory.length>10&&s.usageHistory.pop(),this.cache.totalVisits++,this.cache.lastVisit=e,this.saveToStorage(),o.IS_DEVELOPMENT&&console.log("Feature usage tracked:",{feature:t,totalUses:s.totalUses,timestamp:e}),typeof gtag=="function"&&gtag("event","feature_use",{feature_name:t,event_category:"engagement"})}catch(e){console.error("Analytics error:",e)}}getMostUsedFeatures(t=5){return Object.entries(this.cache.features).map(([e,s])=>({name:e,uses:s.totalUses,lastUse:s.lastUse})).sort((e,s)=>s.uses-e.uses).slice(0,t)}getRecentlyUsedFeatures(t=5){return Object.entries(this.cache.features).map(([e,s])=>({name:e,uses:s.totalUses,lastUse:s.lastUse})).sort((e,s)=>new Date(s.lastUse)-new Date(e.lastUse)).slice(0,t)}getFeatureStats(t){return this.cache.features[t]||null}getGlobalStats(){const t=Object.values(this.cache.features).reduce((e,s)=>e+s.totalUses,0);return{totalFeatures:Object.keys(this.cache.features).length,totalUses:t,firstVisit:this.cache.firstVisit,lastVisit:this.cache.lastVisit,totalVisits:this.cache.totalVisits}}clearAnalytics(){localStorage.removeItem(g),this.cache=this.loadFromStorage()}}export{y as A,L as R,h as T,O as U,A as a,I as b};
//# sourceMappingURL=core-CjBKUKra.js.map
