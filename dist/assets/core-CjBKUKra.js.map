{"version":3,"mappings":"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","names":["AppState","updates","previousState","callback","APP_CONFIG","TOOLS_CONFIG","Router","app","initialTool","currentTool","pathTool","hash","path","toolName","url","UIManager","nav","a","b","toolInfo","button","activeButton","contentDiv","message","ResourceLoader","appState","cssPath","resolve","reject","link","module","__variableDynamicImportRuntimeHelper","error","STORAGE_KEY","Analytics","stored","timestamp","feature","limit","name","data","totalUses","sum"],"ignoreList":[],"sources":["../../src/core/state.js","../../src/core/config.js","../../src/core/router.js","../../src/core/uiManager.js","../../src/core/resourceLoader.js","../../src/core/analytics.js"],"sourcesContent":["export class AppState {\n  constructor() {\n    this.currentTool = null;\n    this.codeMirror = null;\n    this.loadedCssFiles = new Set();\n    this.subscribers = new Set();\n    this.error = null;\n    this.isLoading = false;\n  }\n\n  setState(updates) {\n    const previousState = { ...this };\n    Object.assign(this, updates);\n    this.notifySubscribers(previousState);\n  }\n\n  subscribe(callback) {\n    this.subscribers.add(callback);\n    return () => this.subscribers.delete(callback);\n  }\n\n  notifySubscribers(previousState) {\n    this.subscribers.forEach((callback) => callback(this, previousState));\n  }\n\n  getState() {\n    return {\n      currentTool: this.currentTool,\n      codeMirror: this.codeMirror,\n      loadedCssFiles: [...this.loadedCssFiles],\n      error: this.error,\n      isLoading: this.isLoading,\n    };\n  }\n}\n","export const APP_CONFIG = {\n  DEFAULT_TOOL: \"home\",\n  ANALYTICS_DELAY: 1000, //milliseconds\n  IS_DEVELOPMENT: [\"localhost\", \"127.0.0.1\"].includes(location.hostname),\n  BASE_CSS_PATH: \"/src/styles/tools\",\n  TOOLS_BASE_PATH: \"/tools\",\n};\n\nexport const TOOLS_CONFIG = {\n  home: {\n    init: \"initHome\",\n    title: \"Home\",\n    description: \"Dashboard and Quick Access\",\n    order: 0,\n  },\n  uuid: {\n    init: \"initUuidGenerator\",\n    title: \"UUIDv4\",\n    description: \"Generate UUID v4 strings\",\n    order: 1,\n  },\n  queryin: {\n    init: \"initQueryInGenerator\",\n    title: \"Query IN\",\n    description: \"Generate SQL IN clauses\",\n    order: 2,\n  },\n  image: {\n    init: \"initImageConverter\",\n    title: \"Image-Base64\",\n    description: \"Convert images to base64\",\n    order: 3,\n  },\n  splunk: {\n    init: \"initSplunkTemplate\",\n    title: \"Splunk Template\",\n    description: \"Edit Splunk queries\",\n    order: 4,\n  },\n  html: {\n    init: \"initHtmlTemplate\",\n    title: \"HTML Template\",\n    description: \"Edit HTML templates\",\n    order: 5,\n  },\n  screenshot: {\n    init: \"initScreenshotTemplate\",\n    title: \"Deploy Docs\",\n    description: \"Create deployment documentation\",\n    order: 6,\n  },\n  querify: {\n    init: \"initQuerify\",\n    title: \"Querify\",\n    description: \"SQL query from Excel Files\",\n    order: 7,\n  },\n  quickQuery: {\n    init: \"initQuickQuery\",\n    title: \"Quick Query\",\n    description: \"Quick SQL query generator\",\n    order: 8,\n  },\n};\n","import { APP_CONFIG, TOOLS_CONFIG } from \"./config.js\";\n\nexport class Router {\n  constructor(app) {\n    this.app = app;\n  }\n\n  async initializeRouting() {\n    // Handle initial route\n    const initialTool = this.getInitialTool();\n    await this.navigateToTool(initialTool);\n\n    // Setup history listener\n    window.addEventListener(\"popstate\", async () => {\n      const currentTool = this.getToolFromUrl();\n      await this.app.loadTool(currentTool || APP_CONFIG.DEFAULT_TOOL);\n    });\n  }\n\n  getInitialTool() {\n    const pathTool = this.getToolFromUrl();\n    return pathTool && TOOLS_CONFIG[pathTool] ? pathTool : APP_CONFIG.DEFAULT_TOOL;\n  }\n\n  getToolFromUrl() {\n    if (APP_CONFIG.IS_DEVELOPMENT) {\n      const hash = window.location.hash;\n      return hash ? hash.slice(1) : null;\n    }\n\n    const path = window.location.pathname;\n    return path.startsWith(APP_CONFIG.TOOLS_BASE_PATH + \"/\") ? path.split(\"/\").pop() : null;\n  }\n\n  async navigateToTool(toolName) {\n    if (!TOOLS_CONFIG[toolName]) {\n      toolName = APP_CONFIG.DEFAULT_TOOL;\n    }\n\n    const url = APP_CONFIG.IS_DEVELOPMENT ? `#${toolName}` : `${APP_CONFIG.TOOLS_BASE_PATH}/${toolName}`;\n\n    history.pushState({ tool: toolName }, \"\", url);\n    await this.app.loadTool(toolName);\n  }\n}\n","import { TOOLS_CONFIG } from \"./config.js\";\n\nexport class UIManager {\n  constructor(app) {\n    this.app = app;\n  }\n\n  setupNavigation() {\n    const nav = document.getElementById(\"main-nav\");\n    if (!nav) throw new Error(\"Navigation container not found\");\n\n    // Sort tools by order\n    const sortedTools = Object.entries(TOOLS_CONFIG).sort(([, a], [, b]) => a.order - b.order);\n\n    // Create and append buttons\n    sortedTools.forEach(([toolName, toolInfo]) => {\n      const button = this.createNavigationButton(toolName, toolInfo);\n      nav.appendChild(button);\n    });\n  }\n\n  createNavigationButton(toolName, toolInfo) {\n    const button = document.createElement(\"button\");\n    button.textContent = toolInfo.title;\n    button.id = `nav-${toolName}`;\n    button.title = toolInfo.description;\n    button.className = \"nav-button\";\n    button.addEventListener(\"click\", () => this.app.router.navigateToTool(toolName));\n    return button;\n  }\n\n  updateActiveButton(toolName) {\n    document.querySelectorAll(\"#main-nav .nav-button\").forEach((button) => button.classList.remove(\"active\"));\n\n    const activeButton = document.getElementById(`nav-${toolName}`);\n    if (activeButton) {\n      activeButton.classList.add(\"active\");\n    }\n  }\n\n  showLoadingState() {\n    const contentDiv = document.getElementById(\"content\");\n    contentDiv.innerHTML = \"\";\n\n    // Create a loading timeout to show spinner only if loading takes > 500ms\n    this.loadingTimeout = setTimeout(() => {\n      if (contentDiv.innerHTML === \"\") {\n        // Only show if content is still empty\n        contentDiv.innerHTML = `\n          <div class=\"loading-spinner-container\">\n            <div class=\"loading-spinner\"></div>\n          </div>\n        `;\n      }\n    }, 0);\n  }\n\n  showError(message) {\n    const contentDiv = document.getElementById(\"content\");\n    contentDiv.innerHTML = `\n      <div class=\"error-message\">\n        <h3>Error</h3>\n        <p>${message}</p>\n        <button onclick=\"window.location.reload()\">Reload Page</button>\n      </div>\n    `;\n  }\n\n  clearContent() {\n    if (this.loadingTimeout) {\n      clearTimeout(this.loadingTimeout);\n    }\n    const contentDiv = document.getElementById(\"content\");\n    contentDiv.innerHTML = \"\";\n    return contentDiv;\n  }\n}\n","import { TOOLS_CONFIG, APP_CONFIG } from \"./config.js\";\n\nexport class ResourceLoader {\n  constructor(appState) {\n    this.state = appState;\n  }\n\n  async loadToolCSS(toolName) {\n    if (this.state.loadedCssFiles.has(toolName)) return;\n\n    const cssPath = `${APP_CONFIG.BASE_CSS_PATH}/${toolName}.css`;\n\n    return new Promise((resolve, reject) => {\n      const link = document.createElement(\"link\");\n      link.rel = \"stylesheet\";\n      link.href = cssPath;\n\n      link.onload = () => {\n        this.state.loadedCssFiles.add(toolName);\n        resolve();\n      };\n\n      link.onerror = () => reject(new Error(`Failed to load CSS for ${toolName}`));\n\n      document.head.appendChild(link);\n    });\n  }\n\n  async loadToolModule(toolName) {\n    try {\n      const module = await import(`../features/${toolName}/main.js`);\n      if (typeof module[TOOLS_CONFIG[toolName].init] !== \"function\") {\n        throw new Error(`Invalid module: missing initialization function`);\n      }\n      return module[TOOLS_CONFIG[toolName].init];\n    } catch (error) {\n      throw new Error(`Failed to load module for ${toolName}: ${error.message}`);\n    }\n  }\n}\n","// src/core/analytics.js\nimport { APP_CONFIG } from \"./config.js\";\n\nconst STORAGE_KEY = \"adtools_analytics\";\n\nexport class Analytics {\n  constructor() {\n    this.pendingTracking = null;\n    this.cache = this.loadFromStorage();\n  }\n\n  loadFromStorage() {\n    try {\n      const stored = localStorage.getItem(STORAGE_KEY);\n      return stored\n        ? JSON.parse(stored)\n        : {\n            features: {},\n            firstVisit: new Date().toISOString(),\n            totalVisits: 1,\n            lastVisit: new Date().toISOString(),\n          };\n    } catch (error) {\n      console.error(\"Error loading analytics from storage:\", error);\n      return {\n        features: {},\n        firstVisit: new Date().toISOString(),\n        totalVisits: 1,\n        lastVisit: new Date().toISOString(),\n      };\n    }\n  }\n\n  saveToStorage() {\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(this.cache));\n    } catch (error) {\n      console.error(\"Error saving analytics to storage:\", error);\n    }\n  }\n\n  scheduleTracking(toolName) {\n    // Clear any pending tracking\n    if (this.pendingTracking) {\n      clearTimeout(this.pendingTracking);\n    }\n\n    // Schedule new tracking\n    this.pendingTracking = setTimeout(() => {\n      this.trackFeatureUsage(toolName);\n      this.pendingTracking = null;\n    }, APP_CONFIG.ANALYTICS_DELAY);\n  }\n\n  trackFeatureUsage(toolName) {\n    if (toolName === \"home\") return;\n    try {\n      const timestamp = new Date().toISOString();\n\n      // Initialize feature tracking if it doesn't exist\n      if (!this.cache.features[toolName]) {\n        this.cache.features[toolName] = {\n          totalUses: 0,\n          firstUse: timestamp,\n          lastUse: null,\n          usageHistory: [],\n        };\n      }\n\n      // Update feature statistics\n      const feature = this.cache.features[toolName];\n      feature.totalUses++;\n      feature.lastUse = timestamp;\n\n      // Add to usage history, keeping last 10 uses\n      feature.usageHistory.unshift(timestamp);\n      if (feature.usageHistory.length > 10) {\n        feature.usageHistory.pop();\n      }\n\n      // Update general statistics\n      this.cache.totalVisits++;\n      this.cache.lastVisit = timestamp;\n\n      // Save to localStorage\n      this.saveToStorage();\n\n      // Log to console in development mode\n      if (APP_CONFIG.IS_DEVELOPMENT) {\n        console.log(\"Feature usage tracked:\", {\n          feature: toolName,\n          totalUses: feature.totalUses,\n          timestamp,\n        });\n      }\n\n      // If Google Analytics is available, track there too\n      if (typeof gtag === \"function\") {\n        gtag(\"event\", \"feature_use\", {\n          feature_name: toolName,\n          event_category: \"engagement\",\n        });\n      }\n    } catch (error) {\n      console.error(\"Analytics error:\", error);\n      // Don't throw - analytics errors shouldn't break the app\n    }\n  }\n\n  // Analytics retrieval methods\n  getMostUsedFeatures(limit = 5) {\n    return Object.entries(this.cache.features)\n      .map(([name, data]) => ({\n        name,\n        uses: data.totalUses,\n        lastUse: data.lastUse,\n      }))\n      .sort((a, b) => b.uses - a.uses)\n      .slice(0, limit);\n  }\n\n  getRecentlyUsedFeatures(limit = 5) {\n    return Object.entries(this.cache.features)\n      .map(([name, data]) => ({\n        name,\n        uses: data.totalUses,\n        lastUse: data.lastUse,\n      }))\n      .sort((a, b) => new Date(b.lastUse) - new Date(a.lastUse))\n      .slice(0, limit);\n  }\n\n  getFeatureStats(toolName) {\n    return this.cache.features[toolName] || null;\n  }\n\n  getGlobalStats() {\n    const totalUses = Object.values(this.cache.features).reduce((sum, feature) => sum + feature.totalUses, 0);\n\n    return {\n      totalFeatures: Object.keys(this.cache.features).length,\n      totalUses,\n      firstVisit: this.cache.firstVisit,\n      lastVisit: this.cache.lastVisit,\n      totalVisits: this.cache.totalVisits,\n    };\n  }\n\n  clearAnalytics() {\n    localStorage.removeItem(STORAGE_KEY);\n    this.cache = this.loadFromStorage();\n  }\n}\n"],"file":"assets/core-CjBKUKra.js"}