{"version":3,"file":"main-BuAsCqYz.js","sources":["../../src/features/home/home.template.js","../../src/features/home/home.ui.js","../../src/features/home/main.js"],"sourcesContent":["export function homeTemplate({ mostUsedTools, recentTools, allTools, globalStats }) {\n  return `\n      <div class=\"home-container\">\n        <section class=\"stats-overview\">\n          <div class=\"stats-card\">\n            <h3>Total Uses</h3>\n            <div class=\"stat-value\">${globalStats.totalUses}</div>\n          </div>\n          <div class=\"stats-card\">\n            <h3>Active Features</h3>\n            <div class=\"stat-value\">${globalStats.totalFeatures}</div>\n          </div>\n          <div class=\"stats-card\">\n            <h3>Total Visits</h3>\n            <div class=\"stat-value\">${globalStats.totalVisits}</div>\n          </div>\n        </section>\n  \n        <div class=\"tools-grid\">\n          <section class=\"tools-section\">\n            <h2>Most Used Tools</h2>\n            <div class=\"tools-cards\">\n              ${renderToolCards(mostUsedTools)}\n            </div>\n          </section>\n  \n          <section class=\"tools-section\">\n            <h2>Recently Used</h2>\n            <div class=\"tools-cards\">\n              ${renderToolCards(recentTools)}\n            </div>\n          </section>\n        </div>\n  \n        <section class=\"all-tools-section\">\n          <h2>All Tools</h2>\n          <div class=\"all-tools-grid\">\n            ${renderAllTools(allTools)}\n          </div>\n        </section>\n      </div>\n    `;\n}\n\nfunction renderToolCards(tools) {\n  if (!tools.length) {\n    return '<p class=\"no-tools\">No tools used yet</p>';\n  }\n\n  return tools\n    .map(\n      (tool) => `\n      <div class=\"tool-card\" data-tool=\"${tool.name}\">\n        <div class=\"tool-info\">\n          <h3>${tool.config.title}</h3>\n          <p>${tool.config.description}</p>\n        </div>\n        <div class=\"tool-stats\">\n          <span class=\"stat\">\n            <strong>${tool.stats.totalUses}</strong> uses\n          </span>\n          ${\n            tool.stats.lastUse\n              ? `\n            <span class=\"stat\">\n              Last used: ${formatDate(tool.stats.lastUse)}\n            </span>\n          `\n              : \"\"\n          }\n        </div>\n      </div>\n    `\n    )\n    .join(\"\");\n}\n\nfunction renderAllTools(tools) {\n  return tools\n    .filter((tool) => tool.name !== \"home\") // Filter out the home tool\n    .map(\n      (tool) => `\n      <div class=\"tool-card compact\" data-tool=\"${tool.name}\">\n        <div class=\"tool-info\">\n          <h3>${tool.config.title}</h3>\n          <p>${tool.config.description}</p>\n        </div>\n        <div class=\"tool-stats\">\n          <span class=\"stat\">\n            <strong>${tool.stats.totalUses}</strong> uses\n          </span>\n        </div>\n      </div>\n    `\n    )\n    .join(\"\");\n}\n\nfunction formatDate(dateString) {\n  if (!dateString) return \"Never\";\n\n  const date = new Date(dateString);\n  const now = new Date();\n  const diff = now - date;\n\n  if (diff < 60000) return \"Just now\";\n  if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`;\n  if (diff < 86400000) return `${Math.floor(diff / 3600000)}h ago`;\n  if (diff < 604800000) return `${Math.floor(diff / 86400000)}d ago`;\n\n  return date.toLocaleDateString();\n}\n","import { TOOLS_CONFIG } from \"../../core/config.js\";\nimport { homeTemplate } from \"./home.template.js\";\n\nexport class HomeUI {\n  constructor(container, analytics) {\n    this.container = container;\n    this.analytics = analytics;\n  }\n\n  async init() {\n    this.render();\n    this.setupEventListeners();\n  }\n\n  render() {\n    const mostUsedTools = this.analytics.getMostUsedFeatures(4).filter((tool) => tool.name !== \"home\");\n    const recentTools = this.analytics.getRecentlyUsedFeatures(4).filter((tool) => tool.name !== \"home\");\n    const globalStats = this.analytics.getGlobalStats();\n\n    // Filter recent tools to exclude those already in most used\n    const mostUsedIds = new Set(mostUsedTools.map((t) => t.name));\n    const filteredRecentTools = recentTools.filter((tool) => !mostUsedIds.has(tool.name));\n\n    this.container.innerHTML = homeTemplate({\n      mostUsedTools: this.enrichToolsData(mostUsedTools),\n      recentTools: this.enrichToolsData(filteredRecentTools),\n      allTools: this.getAllToolsSorted(),\n      globalStats,\n    });\n  }\n\n  enrichToolsData(tools) {\n    return tools.map((tool) => ({\n      ...tool,\n      config: TOOLS_CONFIG[tool.name],\n      stats: this.analytics.getFeatureStats(tool.name),\n    }));\n  }\n\n  getAllToolsSorted() {\n    return Object.entries(TOOLS_CONFIG)\n      .map(([name, config]) => ({\n        name,\n        config,\n        stats: this.analytics.getFeatureStats(name) || { totalUses: 0 },\n      }))\n      .sort((a, b) => a.config.order - b.config.order);\n  }\n\n  formatDate(dateString) {\n    if (!dateString) return \"Never\";\n\n    const date = new Date(dateString);\n    const now = new Date();\n    const diff = now - date;\n\n    if (diff < 60000) return \"Just now\";\n    if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`;\n    if (diff < 86400000) return `${Math.floor(diff / 3600000)}h ago`;\n    if (diff < 604800000) return `${Math.floor(diff / 86400000)}d ago`;\n\n    return date.toLocaleDateString();\n  }\n\n  setupEventListeners() {\n    this.container.addEventListener(\"click\", (e) => {\n      const toolCard = e.target.closest(\"[data-tool]\");\n      if (toolCard) {\n        const toolName = toolCard.dataset.tool;\n        window.dispatchEvent(\n          new CustomEvent(\"navigate\", {\n            detail: { tool: toolName },\n          })\n        );\n      }\n    });\n  }\n}\n","import { HomeUI } from \"./home.ui.js\";\n\nexport function initHome(container) {\n  console.log(\"App state:\", window.app);\n  const { analytics } = window.app;\n  if (!analytics) {\n    throw new Error(\"Analytics service not found\");\n  }\n  const ui = new HomeUI(container, analytics);\n  return ui.init();\n}\n"],"names":["homeTemplate","mostUsedTools","recentTools","allTools","globalStats","renderToolCards","renderAllTools","tools","tool","formatDate","dateString","date","diff","HomeUI","container","analytics","mostUsedIds","t","filteredRecentTools","TOOLS_CONFIG","name","config","a","b","e","toolCard","toolName","initHome"],"mappings":"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"}